# Screener - Multi-Timeframe Momentum Reversal Trading System
# Environment Configuration Template
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual values (DO NOT commit .env to git)
# 3. Never commit credentials or API keys to version control

# ===== Interactive Brokers Configuration =====
# Connection Profile (select one):
#   - gateway_paper  (IB Gateway Paper Trading via IBC - RECOMMENDED)
#   - gateway_live   (IB Gateway Live Trading via IBC - ⚠️ CAUTION)
#   - tws_paper      (TWS Paper Trading - Alternative)
#   - tws_live       (TWS Live Trading - ⚠️ CAUTION)

IB_PROFILE=gateway_paper

# Manual override (if not using profiles)
# For IB Gateway via IBC (use with scripts/start_ib_gateway.sh):
IB_HOST=127.0.0.1
IB_PORT=4002  # Paper trading via IBC (live = 4001)

# For TWS Direct (alternative):
# IB_PORT=7497  # Paper trading (live = 7496)

# Connection settings
IB_CLIENT_ID=1
IB_TIMEOUT=20
IB_READONLY=false

# ===== Timeframe Configuration =====
# Timeframe Profile (select one):
#   - intraday_5m   (5m/15m/1h/4h - Fast intraday)
#   - intraday_15m  (15m/30m/1h/4h - Standard intraday)
#   - swing         (1h/4h/1d/1w - Swing trading)
#   - daily         (4h/1d/1w/1M - Daily/position trading)

TIMEFRAME_PROFILE=intraday_5m

# ===== Database Configuration =====
# For development: use sqlite
# For production: use postgresql

DB_TYPE=sqlite
DB_PATH=data/trading.db

# PostgreSQL (production)
# DB_TYPE=postgresql
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=trading_system
# DB_USER=trader
# DB_PASSWORD=your_secure_password_here

# ===== Directory Paths =====
DATA_DIR=./data
CONFIG_DIR=./config
LOG_DIR=./logs
HISTORICAL_DATA_DIR=./data/historical
CACHE_DIR=./data/cache

# ===== System Configuration =====
# Number of worker processes for parallel screening
MAX_WORKERS=8

# Enable/disable paper trading mode
# CRITICAL: Set to true for testing, false only for live trading
ENABLE_PAPER_TRADING=true

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log retention in days
LOG_RETENTION_DAYS=90

# ===== Performance Tuning =====
# Indicator cache TTL in seconds (0 = no cache)
INDICATOR_CACHE_TTL=300

# Database connection pool size
DB_POOL_SIZE=10

# Maximum symbols to process in parallel
MAX_PARALLEL_SYMBOLS=100

# ===== Trading Parameters =====
# These can override config/trading_params.yaml

# Maximum risk per trade (decimal, e.g., 0.01 = 1%)
MAX_RISK_PER_TRADE=0.01

# Maximum total portfolio risk (decimal, e.g., 0.03 = 3%)
MAX_TOTAL_RISK=0.03

# Maximum concurrent positions
MAX_POSITIONS=5

# Minimum reward/risk ratio
MIN_REWARD_RISK=1.5

# ===== Dashboard Configuration =====
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8050
DASHBOARD_DEBUG=false

# Dashboard update intervals (seconds)
WATCHLIST_UPDATE_INTERVAL=15
CHART_UPDATE_INTERVAL=60
REGIME_UPDATE_INTERVAL=1800
POSITION_UPDATE_INTERVAL=5

# ===== Data Fetching =====
# Rate limit between IB API requests (seconds)
# IB enforces rate limits; 0.5s is safe
IB_REQUEST_DELAY=0.5

# Historical data lookback periods
HISTORICAL_15M_DAYS=5
HISTORICAL_1H_DAYS=10
HISTORICAL_4H_DAYS=30

# ===== Scheduled Jobs =====
# Use cron-style expressions or set times (HH:MM format)

# Pre-market: Update universe and historical data
PREMARKET_UPDATE_TIME=06:00

# Pre-market: Run comprehensive screening
PREMARKET_SCREENING_TIME=07:00

# Post-market: Save data and generate reports
POSTMARKET_SAVE_TIME=16:30

# ===== Alert Configuration =====
# Email alerts (optional)
ENABLE_EMAIL_ALERTS=false
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_FROM=your_email@gmail.com
EMAIL_TO=your_email@gmail.com
EMAIL_PASSWORD=your_app_password_here

# Slack alerts (optional)
ENABLE_SLACK_ALERTS=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ===== Development/Testing Flags =====
# Skip IB connection (use cached/mock data)
SKIP_IB_CONNECTION=false

# Use sample universe (faster testing)
USE_SAMPLE_UNIVERSE=false
SAMPLE_UNIVERSE_SIZE=50

# Enable performance profiling
ENABLE_PROFILING=false

# ===== Security =====
# NEVER commit this file with real credentials
# Use environment-specific .env files:
# - .env.development
# - .env.staging
# - .env.production

# Add .env to .gitignore (already done)
